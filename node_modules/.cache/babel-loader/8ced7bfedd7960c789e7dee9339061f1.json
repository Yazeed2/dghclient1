{"ast":null,"code":"import _defineProperty from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/yazeed/Documents/coding/websites/fullstack/dag/client/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Button,InputGroup,FormControl}from'react-bootstrap';import Axios from'axios';var EditMarble=/*#__PURE__*/function(_Component){_inherits(EditMarble,_Component);function EditMarble(){var _getPrototypeOf2;var _this;_classCallCheck(this,EditMarble);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(EditMarble)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={delete:false,imagesUrl:[],images:[],numChildren:1,load:true};_this.submit=function(){Axios.put('https://dghinteriors.herokuapp.com/add/rocks/'+_this.props.data._id,{title:_this.state.title,images:_this.state.images,description:_this.state.description}).then(function(data){alert('created a new project');window.location.reload();}).catch(function(err){return console.log(err);});};_this.delete=function(){Axios.delete('https://dghinteriors.herokuapp.com/add/rocks/'+_this.props.data._id).then(function(data){alert('this project is deleted');window.location.reload();}).catch(function(err){return console.log(err);});};_this.addImageUrl=function(e){var i=e.target.name;_this.setState(_defineProperty({},i,e.target.value));_this.state.images[i]=e.target.value;console.log(_this.state);};_this.addImage=function(){_this.state.images.push(1);console.log(_this.state);};_this.onRemoveChild=function(){_this.setState(_defineProperty({imagesUrl:_this.state.images.pop(),numChildren:_this.state.numChildren-1},_this.state.numChildren-1,''));console.log(_this.state);};_this.onChange=function(e){if(e.target.value.length>0){var _this$setState3;_this.setState((_this$setState3={},_defineProperty(_this$setState3,e.target.name,e.target.value),_defineProperty(_this$setState3,e.target.name+\"lable\",false),_this$setState3));}else{var _this$setState4;_this.setState((_this$setState4={},_defineProperty(_this$setState4,e.target.name,e.target.value),_defineProperty(_this$setState4,e.target.name+\"lable\",true),_this$setState4));}console.log(_this.state);};_this.onAddChild=function(){_this.setState({numChildren:_this.state.numChildren+1});console.log(_this.state);};return _this;}_createClass(EditMarble,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.setState({title:this.props.data.title,description:this.props.data.description,imagesUrl:this.props.data.images,numChildren:this.props.data.images.length});this.props.data.images.map(function(url,i){_this2.setState(_defineProperty({},i,url));});console.log(this.props);}},{key:\"render\",value:function render(){var _this3=this;var children=[];for(var i=0;i<this.state.numChildren;i+=1){children.push(React.createElement(React.Fragment,null,React.createElement(\"img\",{className:\"projectImages\",src:this.state[i]}),React.createElement(InputGroup,{size:\"sm\",className:\"mb-3\"},React.createElement(InputGroup.Prepend,null,React.createElement(InputGroup.Text,{id:\"inputGroup-sizing-sm\"},\"Image\")),React.createElement(FormControl,{value:this.state[i],onChange:this.addImageUrl,name:i,\"aria-label\":\"Small\",\"aria-describedby\":\"inputGroup-sizing-sm\"}))));};return React.createElement(\"div\",null,React.createElement(Button,{onClick:function onClick(){return _this3.props.clicked(null);},variant:\"danger\"},\"Cancel X\"),React.createElement(\"br\",null),React.createElement(\"div\",{className:\"forms\"},React.createElement(InputGroup,{className:\"mb-3\"},React.createElement(InputGroup.Prepend,null,React.createElement(InputGroup.Text,{id:\"inputGroup-sizing-default\"},\"Title\")),React.createElement(FormControl,{value:this.state.title,onChange:this.onChange,name:\"title\",\"aria-label\":\"Default\",\"aria-describedby\":\"inputGroup-sizing-default\"})),children,React.createElement(Button,{className:\"addbtn\",onClick:this.onAddChild,variant:\"primary\"},\"+\"),React.createElement(Button,{className:\"addbtn\",onClick:this.onRemoveChild,variant:\"primary\"},\"-\"),React.createElement(Button,{className:\"addbtn\",onClick:function onClick(){return _this3.setState({load:!_this3.state.load});},variant:\"outline-primary\"},\" \\u21BB\"),React.createElement(InputGroup,null,React.createElement(InputGroup.Prepend,null,React.createElement(InputGroup.Text,null,\"Description\")),React.createElement(FormControl,{value:this.state.description,onChange:this.onChange,name:\"description\",as:\"textarea\",\"aria-label\":\"With textarea\"})),React.createElement(Button,{className:\"btn\",onClick:this.submit,variant:\"success\",size:\"lg\",block:true},\"Submit\")),React.createElement(\"div\",{className:\"forms\"},React.createElement(Button,{variant:\"primary\",size:\"lg\",block:true},\"Edit \"),React.createElement(Button,{onClick:function onClick(){return _this3.setState({delete:!_this3.state.delete});},variant:\"danger\",size:\"lg\",block:true},\"Delete X\"),this.state.delete?React.createElement(\"div\",{className:\"deleting\"},React.createElement(\"h4\",null,\"Are you sure?\"),React.createElement(\"div\",null,React.createElement(Button,{className:\"btn\",variant:\"danger\",onClick:this.delete},\"Yes\"),React.createElement(Button,{className:\"btn\",variant:\"primary\",onClick:function onClick(){return _this3.setState({delete:false});}},\"No\"))):''));}}]);return EditMarble;}(Component);export{EditMarble as default};","map":{"version":3,"sources":["/Users/yazeed/Documents/coding/websites/fullstack/dag/client/src/Edit/EditMarble.js"],"names":["React","Component","Button","InputGroup","FormControl","Axios","EditMarble","state","delete","imagesUrl","images","numChildren","load","submit","put","props","data","_id","title","description","then","alert","window","location","reload","catch","err","console","log","addImageUrl","e","i","target","name","setState","value","addImage","push","onRemoveChild","pop","onChange","length","onAddChild","map","url","children","clicked"],"mappings":"02BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAAQC,MAAR,CAAeC,UAAf,CAA0BC,WAA1B,KAA4C,iBAA5C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,GAEqBC,CAAAA,U,+YACjBC,K,CAAM,CACFC,MAAM,CAAC,KADL,CAEFC,SAAS,CAAE,EAFT,CAGFC,MAAM,CAAG,EAHP,CAIFC,WAAW,CAAE,CAJX,CAKFC,IAAI,CAAE,IALJ,C,OAQNC,M,CAAO,UAAI,CACPR,KAAK,CAACS,GAAN,CAAU,gDAAgD,MAAKC,KAAL,CAAWC,IAAX,CAAgBC,GAA1E,CACA,CACIC,KAAK,CAAC,MAAKX,KAAL,CAAWW,KADrB,CAEIR,MAAM,CAAC,MAAKH,KAAL,CAAWG,MAFtB,CAGIS,WAAW,CAAC,MAAKZ,KAAL,CAAWY,WAH3B,CADA,EAOCC,IAPD,CAOM,SAAAJ,IAAI,CAAE,CAEJK,KAAK,CAAC,uBAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GAGP,CAbD,EAcCC,KAdD,CAcO,SAAAC,GAAG,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF,EAdV,EAeH,C,OACDlB,M,CAAO,UAAI,CACPH,KAAK,CAACG,MAAN,CAAa,gDAAgD,MAAKO,KAAL,CAAWC,IAAX,CAAgBC,GAA7E,EACCG,IADD,CACM,SAAAJ,IAAI,CAAE,CACRK,KAAK,CAAC,yBAAD,CAAL,CACAC,MAAM,CAACC,QAAP,CAAgBC,MAAhB,GACH,CAJD,EAKCC,KALD,CAKO,SAAAC,GAAG,QAAEC,CAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAF,EALV,EAOH,C,OAiBDG,W,CAAc,SAACC,CAAD,CAAM,CAClB,GAAIC,CAAAA,CAAC,CAAGD,CAAC,CAACE,MAAF,CAASC,IAAjB,CACA,MAAKC,QAAL,oBAAgBH,CAAhB,CAAmBD,CAAC,CAACE,MAAF,CAASG,KAA5B,GACD,MAAK5B,KAAL,CAAWG,MAAX,CAAkBqB,CAAlB,EAAuBD,CAAC,CAACE,MAAF,CAASG,KAAhC,CACAR,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAjB,EAGA,C,OACD6B,Q,CAAS,UAAI,CACT,MAAK7B,KAAL,CAAWG,MAAX,CAAkB2B,IAAlB,CAAuB,CAAvB,EACAV,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAjB,EAEH,C,OACD+B,a,CAAc,UAAI,CACd,MAAKJ,QAAL,kBACIzB,SAAS,CAAC,MAAKF,KAAL,CAAWG,MAAX,CAAkB6B,GAAlB,EADd,CAEI5B,WAAW,CAAE,MAAKJ,KAAL,CAAWI,WAAX,CAAyB,CAF1C,EAGK,MAAKJ,KAAL,CAAWI,WAAX,CAAuB,CAH5B,CAG+B,EAH/B,GAKEgB,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAjB,EAEL,C,OAEDiC,Q,CAAW,SAACV,CAAD,CAAO,CAEd,GAAIA,CAAC,CAACE,MAAF,CAASG,KAAT,CAAeM,MAAf,CAAwB,CAA5B,CAA+B,qBAC7B,MAAKP,QAAL,qDACGJ,CAAC,CAACE,MAAF,CAASC,IADZ,CACmBH,CAAC,CAACE,MAAF,CAASG,KAD5B,kCAEGL,CAAC,CAACE,MAAF,CAASC,IAAT,CAAgB,OAFnB,CAE6B,KAF7B,oBAKD,CAND,IAMO,qBACL,MAAKC,QAAL,qDACGJ,CAAC,CAACE,MAAF,CAASC,IADZ,CACmBH,CAAC,CAACE,MAAF,CAASG,KAD5B,kCAEGL,CAAC,CAACE,MAAF,CAASC,IAAT,CAAgB,OAFnB,CAE6B,IAF7B,oBAID,CACDN,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAjB,EAED,C,OACDmC,U,CAAa,UAAM,CACjB,MAAKR,QAAL,CAAc,CACZvB,WAAW,CAAE,MAAKJ,KAAL,CAAWI,WAAX,CAAyB,CAD1B,CAAd,EAGAgB,OAAO,CAACC,GAAR,CAAY,MAAKrB,KAAjB,EAEH,C,mGA7DkB,iBACf,KAAK2B,QAAL,CAAc,CACVhB,KAAK,CAAE,KAAKH,KAAL,CAAWC,IAAX,CAAgBE,KADb,CAEVC,WAAW,CAAE,KAAKJ,KAAL,CAAWC,IAAX,CAAgBG,WAFnB,CAGVV,SAAS,CAAG,KAAKM,KAAL,CAAWC,IAAX,CAAgBN,MAHlB,CAIVC,WAAW,CAAC,KAAKI,KAAL,CAAWC,IAAX,CAAgBN,MAAhB,CAAuB+B,MAJzB,CAAd,EAMA,KAAK1B,KAAL,CAAWC,IAAX,CAAgBN,MAAhB,CAAuBiC,GAAvB,CAA2B,SAACC,GAAD,CAAMb,CAAN,CAAU,CACnC,MAAI,CAACG,QAAL,oBACGH,CADH,CACMa,GADN,GAGD,CAJD,EAKAjB,OAAO,CAACC,GAAR,CAAY,KAAKb,KAAjB,EAEH,C,uCAgDQ,iBAEL,GAAM8B,CAAAA,QAAQ,CAAG,EAAjB,CAEJ,IAAK,GAAId,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAG,KAAKxB,KAAL,CAAWI,WAA/B,CAA4CoB,CAAC,EAAI,CAAjD,CAAoD,CAClDc,QAAQ,CAACR,IAAT,CAAc,wCACZ,2BAAK,SAAS,CAAC,eAAf,CAA+B,GAAG,CAAE,KAAK9B,KAAL,CAAWwB,CAAX,CAApC,EADY,CAEZ,oBAAC,UAAD,EAAY,IAAI,CAAC,IAAjB,CAAsB,SAAS,CAAC,MAAhC,EACA,oBAAC,UAAD,CAAY,OAAZ,MACE,oBAAC,UAAD,CAAY,IAAZ,EAAkB,EAAE,CAAC,sBAArB,UADF,CADA,CAIA,oBAAC,WAAD,EACA,KAAK,CAAE,KAAKxB,KAAL,CAAWwB,CAAX,CADP,CAEA,QAAQ,CAAE,KAAKF,WAFf,CAGA,IAAI,CAAEE,CAHN,CAIA,aAAW,OAJX,CAImB,mBAAiB,sBAJpC,EAJA,CAFY,CAAd,EAcD,EAEG,MACI,gCACK,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAAChB,KAAL,CAAW+B,OAAX,CAAmB,IAAnB,CAAJ,EAAjB,CAA+C,OAAO,CAAC,QAAvD,aADL,CAEZ,8BAFY,CAIZ,2BAAK,SAAS,CAAC,OAAf,EAEA,oBAAC,UAAD,EAAY,SAAS,CAAC,MAAtB,EACI,oBAAC,UAAD,CAAY,OAAZ,MACE,oBAAC,UAAD,CAAY,IAAZ,EAAmB,EAAE,CAAC,2BAAtB,UADF,CADJ,CAII,oBAAC,WAAD,EACD,KAAK,CAAE,KAAKvC,KAAL,CAAWW,KADjB,CAEA,QAAQ,CAAE,KAAKsB,QAFf,CAGA,IAAI,CAAC,OAHL,CAIA,aAAW,SAJX,CAKA,mBAAiB,2BALjB,EAJJ,CAFA,CAcCK,QAdD,CAeA,oBAAC,MAAD,EAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,KAAKH,UAAzC,CAAqD,OAAO,CAAC,SAA7D,MAfA,CAgBA,oBAAC,MAAD,EAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,KAAKJ,aAAzC,CAAwD,OAAO,CAAC,SAAhE,MAhBA,CAiBA,oBAAC,MAAD,EAAQ,SAAS,CAAC,QAAlB,CAA2B,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACJ,QAAL,CAAc,CAACtB,IAAI,CAAE,CAAC,MAAI,CAACL,KAAL,CAAWK,IAAnB,CAAd,CAAJ,EAApC,CAAiF,OAAO,CAAC,iBAAzF,YAjBA,CAmBA,oBAAC,UAAD,MACI,oBAAC,UAAD,CAAY,OAAZ,MACE,oBAAC,UAAD,CAAY,IAAZ,oBADF,CADJ,CAII,oBAAC,WAAD,EACA,KAAK,CAAE,KAAKL,KAAL,CAAWY,WADlB,CAEA,QAAQ,CAAE,KAAKqB,QAFf,CAEyB,IAAI,CAAC,aAF9B,CAE4C,EAAE,CAAC,UAF/C,CAE0D,aAAW,eAFrE,EAJJ,CAnBA,CA4BE,oBAAC,MAAD,EAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAE,KAAK3B,MAAtC,CAA8C,OAAO,CAAC,SAAtD,CAAgE,IAAI,CAAC,IAArE,CAA0E,KAAK,KAA/E,WA5BF,CAJY,CAmCZ,2BAAK,SAAS,CAAC,OAAf,EACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,IAA/B,CAAoC,KAAK,KAAzC,UADF,CAGA,oBAAC,MAAD,EAAQ,OAAO,CAAE,yBAAI,CAAA,MAAI,CAACqB,QAAL,CAAc,CAAC1B,MAAM,CAAC,CAAC,MAAI,CAACD,KAAL,CAAWC,MAApB,CAAd,CAAJ,EAAjB,CAAiE,OAAO,CAAC,QAAzE,CAAkF,IAAI,CAAC,IAAvF,CAA4F,KAAK,KAAjG,aAHA,CAIC,KAAKD,KAAL,CAAWC,MAAX,CAAmB,2BAAK,SAAS,CAAC,UAAf,EACd,8CADc,CAEd,+BACA,oBAAC,MAAD,EAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAC,QAAhC,CAAyC,OAAO,CAAE,KAAKA,MAAvD,QADA,CAEA,oBAAC,MAAD,EAAQ,SAAS,CAAC,KAAlB,CAAwB,OAAO,CAAC,SAAhC,CAA0C,OAAO,CAAE,yBAAI,CAAA,MAAI,CAAC0B,QAAL,CAAc,CAAC1B,MAAM,CAAC,KAAR,CAAd,CAAJ,EAAnD,OAFA,CAFc,CAAnB,CAMS,EAVV,CAnCY,CADJ,CAkDH,C,wBAzKmCP,S,SAAnBK,U","sourcesContent":["import React, { Component } from 'react'\nimport {Button,InputGroup,FormControl} from 'react-bootstrap'\nimport Axios from 'axios'\n\nexport default class EditMarble extends Component {\n    state={\n        delete:false,\n        imagesUrl :[],\n        images : [],\n        numChildren: 1,\n        load: true,\n\n    }\n    submit=()=>{\n        Axios.put('https://dghinteriors.herokuapp.com/add/rocks/'+this.props.data._id, \n        {\n            title:this.state.title,\n            images:this.state.images,\n            description:this.state.description\n        }\n        )\n        .then(data=>{\n      \n                alert('created a new project')\n                window.location.reload();\n\n            \n        })\n        .catch(err=>console.log(err)) \n    }\n    delete=()=>{\n        Axios.delete('https://dghinteriors.herokuapp.com/add/rocks/'+this.props.data._id)\n        .then(data=>{\n            alert('this project is deleted')\n            window.location.reload()\n        })\n        .catch(err=>console.log(err)\n        )\n    }\n    \n    componentDidMount(){\n        this.setState({\n            title: this.props.data.title,\n            description: this.props.data.description,\n            imagesUrl : this.props.data.images,\n            numChildren:this.props.data.images.length\n        })\n        this.props.data.images.map((url, i)=>{\n          this.setState({\n            [i]:url\n          })\n        })\n        console.log(this.props);\n        \n    }\n    addImageUrl = (e) =>{\n      let i = e.target.name\n      this.setState({[i]:e.target.value})\n     this.state.images[i] = e.target.value\n     console.log(this.state);\n     \n        \n    }\n    addImage=()=>{\n        this.state.images.push(1)\n        console.log(this.state);\n        \n    } \n    onRemoveChild=()=>{\n        this.setState({\n            imagesUrl:this.state.images.pop(),\n            numChildren: this.state.numChildren - 1,\n            [this.state.numChildren-1]:''\n          })\n          console.log(this.state);\n          \n    }\n        \n    onChange = (e) => {\n  \n        if (e.target.value.length > 0) {\n          this.setState({\n            [e.target.name]: e.target.value,\n            [e.target.name + \"lable\"]: false\n          })\n          \n        } else {\n          this.setState({\n            [e.target.name]: e.target.value,\n            [e.target.name + \"lable\"]: true\n          })\n        }\n        console.log(this.state);\n        \n      }\n      onAddChild = () => {\n        this.setState({\n          numChildren: this.state.numChildren + 1\n        })\n        console.log(this.state);\n        \n    }\n    render() {\n   \n        const children = [];\n\n    for (var i = 0; i < this.state.numChildren; i += 1) {\n      children.push(<>\n        <img className=\"projectImages\" src={this.state[i]} />\n        <InputGroup size=\"sm\" className=\"mb-3\">\n        <InputGroup.Prepend>\n          <InputGroup.Text  id=\"inputGroup-sizing-sm\">Image</InputGroup.Text>\n        </InputGroup.Prepend>\n        <FormControl\n        value={this.state[i]}\n        onChange={this.addImageUrl} \n        name={i}\n        aria-label=\"Small\" aria-describedby=\"inputGroup-sizing-sm\" />\n      </InputGroup>\n     \n    </>);\n    };\n\n        return (\n            <div>\n                 <Button onClick={()=>this.props.clicked(null)} variant=\"danger\">Cancel X</Button>\n<br />\n\n<div className=\"forms\">\n\n<InputGroup className=\"mb-3\">\n    <InputGroup.Prepend>\n      <InputGroup.Text   id=\"inputGroup-sizing-default\">Title</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl\n   value={this.state.title}\n    onChange={this.onChange} \n    name=\"title\"\n    aria-label=\"Default\"\n    aria-describedby=\"inputGroup-sizing-default\"\n    />\n  </InputGroup>\n{children}\n<Button className=\"addbtn\" onClick={this.onAddChild} variant=\"primary\">+</Button>\n<Button className=\"addbtn\" onClick={this.onRemoveChild} variant=\"primary\">-</Button>\n<Button className=\"addbtn\" onClick={()=>this.setState({load :!this.state.load})} variant=\"outline-primary\"> &#8635;</Button>\n\n<InputGroup>\n    <InputGroup.Prepend>\n      <InputGroup.Text>Description</InputGroup.Text>\n    </InputGroup.Prepend>\n    <FormControl\n    value={this.state.description}\n    onChange={this.onChange} name=\"description\" as=\"textarea\" aria-label=\"With textarea\" />\n  </InputGroup>\n\n  <Button className=\"btn\" onClick={this.submit} variant=\"success\" size=\"lg\" block>Submit</Button>\n    </div>\n\n<div className=\"forms\">\n  <Button variant=\"primary\" size=\"lg\" block>Edit </Button>\n \n<Button onClick={()=>this.setState({delete:!this.state.delete})} variant=\"danger\" size=\"lg\" block>Delete X</Button>\n{this.state.delete? <div className=\"deleting\">\n      <h4>Are you sure?</h4>\n      <div>\n      <Button className=\"btn\" variant=\"danger\" onClick={this.delete}>Yes</Button>\n      <Button className=\"btn\" variant=\"primary\" onClick={()=>this.setState({delete:false})}>No</Button>\n      </div>\n  </div>: ''} \n  </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}